{"remainingRequest":"/Users/junronngcai/Downloads/vue3-json-schema-form/node_modules/babel-loader/lib/index.js!/Users/junronngcai/Downloads/vue3-json-schema-form/node_modules/ts-loader/index.js??ref--15-2!/Users/junronngcai/Downloads/vue3-json-schema-form/node_modules/eslint-loader/index.js??ref--13-0!/Users/junronngcai/Downloads/vue3-json-schema-form/lib/widgets/Selection.tsx","dependencies":[{"path":"/Users/junronngcai/Downloads/vue3-json-schema-form/lib/widgets/Selection.tsx","mtime":1608516377731},{"path":"/Users/junronngcai/Downloads/vue3-json-schema-form/node_modules/cache-loader/dist/cjs.js","mtime":1607437832202},{"path":"/Users/junronngcai/Downloads/vue3-json-schema-form/node_modules/babel-loader/lib/index.js","mtime":1608516392415},{"path":"/Users/junronngcai/Downloads/vue3-json-schema-form/node_modules/ts-loader/index.js","mtime":1608516394013},{"path":"/Users/junronngcai/Downloads/vue3-json-schema-form/node_modules/eslint-loader/index.js","mtime":1607437999134}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50LCByZWYsIHdhdGNoLCB3YXRjaEVmZmVjdCwgY3JlYXRlVk5vZGUsIHZNb2RlbFNlbGVjdCwgd2l0aERpcmVjdGl2ZXMgfSBmcm9tICJ2dWUiOwpleHBvcnQgZGVmYXVsdCBkZWZpbmVDb21wb25lbnQoewogIG5hbWU6ICdTZWxlY3Rpb25XaWRnZXQnLAogIHByb3BzOiB7CiAgICB2YWx1ZToge30sCiAgICBvbkNoYW5nZTogewogICAgICB0eXBlOiBGdW5jdGlvbiwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICBvcHRpb25zOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfQogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKHByb3BzKSB7CiAgICB2YXIgY3VycmVudFZhbHVlUmVmID0gcmVmKHByb3BzLnZhbHVlKTsKICAgIHdhdGNoKGN1cnJlbnRWYWx1ZVJlZiwgZnVuY3Rpb24gKG5ld3YsIG9sZHYpIHsKICAgICAgaWYgKG5ld3YgIT09IHByb3BzLnZhbHVlKSB7CiAgICAgICAgcHJvcHMub25DaGFuZ2UobmV3dik7CiAgICAgIH0KICAgIH0pOwogICAgd2F0Y2goZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gcHJvcHMudmFsdWU7CiAgICB9LCBmdW5jdGlvbiAodikgewogICAgICBpZiAodiAhPT0gY3VycmVudFZhbHVlUmVmLnZhbHVlKSB7CiAgICAgICAgY3VycmVudFZhbHVlUmVmLnZhbHVlID0gdjsKICAgICAgfQogICAgfSk7CiAgICB3YXRjaEVmZmVjdChmdW5jdGlvbiAoKSB7CiAgICAgIGNvbnNvbGUubG9nKGN1cnJlbnRWYWx1ZVJlZi52YWx1ZSwgJy0tLS0tLS0tLS0tLS0+Jyk7CiAgICB9KTsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBvcHRpb25zID0gcHJvcHMub3B0aW9uczsKICAgICAgcmV0dXJuIHdpdGhEaXJlY3RpdmVzKGNyZWF0ZVZOb2RlKCJzZWxlY3QiLCB7CiAgICAgICAgIm11bHRpcGxlIjogdHJ1ZSwKICAgICAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IGZ1bmN0aW9uIG9uVXBkYXRlTW9kZWxWYWx1ZSgkZXZlbnQpIHsKICAgICAgICAgIHJldHVybiBjdXJyZW50VmFsdWVSZWYudmFsdWUgPSAkZXZlbnQ7CiAgICAgICAgfQogICAgICB9LCBbb3B0aW9ucy5tYXAoZnVuY3Rpb24gKG9wKSB7CiAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKCJvcHRpb24iLCB7CiAgICAgICAgICAidmFsdWUiOiBvcC52YWx1ZQogICAgICAgIH0sIFtvcC5rZXldKTsKICAgICAgfSldKSwgW1t2TW9kZWxTZWxlY3QsIGN1cnJlbnRWYWx1ZVJlZi52YWx1ZV1dKTsKICAgIH07CiAgfQp9KTs="},{"version":3,"sources":["/Users/junronngcai/Downloads/vue3-json-schema-form/node_modules/eslint-loader/index.js??ref--13-0!/Users/junronngcai/Downloads/vue3-json-schema-form/lib/widgets/Selection.tsx"],"names":[],"mappings":";;AAEA,eAAe,eAAe,CAAC;AAC7B,EAAA,IAAI,EAAE,iBADuB;AAE7B,EAAA,KAAK,EAAE;AACL,IAAA,KAAK,EAAE,EADF;AAEL,IAAA,QAAQ,EAAE;AACR,MAAA,IAAI,EAAE,QADE;AAER,MAAA,QAAQ,EAAE;AAFF,KAFL;AAML,IAAA,OAAO,EAAE;AACP,MAAA,IAAI,EAAE,KADC;AAOP,MAAA,QAAQ,EAAE;AAPH;AANJ,GAFsB;AAkB7B,EAAA,KAlB6B,iBAkBvB,KAlBuB,EAkBlB;AACT,QAAM,eAAe,GAAG,GAAG,CAAC,KAAK,CAAC,KAAP,CAA3B;AAEA,IAAA,KAAK,CAAC,eAAD,EAAkB,UAAC,IAAD,EAAO,IAAP,EAAe;AACpC,UAAI,IAAI,KAAK,KAAK,CAAC,KAAnB,EAA0B;AACxB,QAAA,KAAK,CAAC,QAAN,CAAe,IAAf;AACD;AACF,KAJI,CAAL;AAMA,IAAA,KAAK,CACH;AAAA,aAAM,KAAK,CAAC,KAAZ;AAAA,KADG,EAEH,UAAC,CAAD,EAAM;AACJ,UAAI,CAAC,KAAK,eAAe,CAAC,KAA1B,EAAiC;AAC/B,QAAA,eAAe,CAAC,KAAhB,GAAwB,CAAxB;AACD;AACF,KANE,CAAL;AASA,IAAA,WAAW,CAAC,YAAK;AACf,MAAA,OAAO,CAAC,GAAR,CAAY,eAAe,CAAC,KAA5B,EAAmC,gBAAnC;AACD,KAFU,CAAX;AAIA,WAAO,YAAK;AAAA,UACF,OADE,GACU,KADV,CACF,OADE;AAEV;AAAA,oBACoB,IADpB;AAAA;AAAA,iBACmC,eAAe,CAAC,KADnD;AAAA;AAAA,UAEK,OAAO,CAAC,GAAR,CAAY,UAAC,EAAD;AAAA;AAAA,mBACI,EAAE,CAAC;AADP,YACe,EAAE,CAAC,GADlB;AAAA,OAAZ,CAFL,oBACmC,eAAe,CAAC,KADnD;AAOD,KATD;AAUD;AAlD4B,CAAD,CAA9B","sourcesContent":["import { defineComponent, PropType, ref, watch, watchEffect } from 'vue'\n\nexport default defineComponent({\n  name: 'SelectionWidget',\n  props: {\n    value: {},\n    onChange: {\n      type: Function as PropType<(v: any) => void>,\n      required: true,\n    },\n    options: {\n      type: Array as PropType<\n        {\n          key: string\n          value: any\n        }[]\n      >,\n      required: true,\n    },\n  },\n  setup(props) {\n    const currentValueRef = ref(props.value)\n\n    watch(currentValueRef, (newv, oldv) => {\n      if (newv !== props.value) {\n        props.onChange(newv)\n      }\n    })\n\n    watch(\n      () => props.value,\n      (v) => {\n        if (v !== currentValueRef.value) {\n          currentValueRef.value = v\n        }\n      },\n    )\n\n    watchEffect(() => {\n      console.log(currentValueRef.value, '------------->')\n    })\n\n    return () => {\n      const { options } = props\n      return (\n        <select multiple={true} v-model={currentValueRef.value}>\n          {options.map((op) => (\n            <option value={op.value}>{op.key}</option>\n          ))}\n        </select>\n      )\n    }\n  },\n})\n"],"sourceRoot":""}]}