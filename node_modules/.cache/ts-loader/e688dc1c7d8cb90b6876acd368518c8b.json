{"remainingRequest":"/Users/junronngcai/Downloads/vue3-json-schema-form/node_modules/babel-loader/lib/index.js!/Users/junronngcai/Downloads/vue3-json-schema-form/node_modules/ts-loader/index.js??ref--15-2!/Users/junronngcai/Downloads/vue3-json-schema-form/node_modules/eslint-loader/index.js??ref--13-0!/Users/junronngcai/Downloads/vue3-json-schema-form/lib/theme-default/SelectionWidget.tsx","dependencies":[{"path":"/Users/junronngcai/Downloads/vue3-json-schema-form/lib/theme-default/SelectionWidget.tsx","mtime":1608640924106},{"path":"/Users/junronngcai/Downloads/vue3-json-schema-form/node_modules/cache-loader/dist/cjs.js","mtime":1607437832202},{"path":"/Users/junronngcai/Downloads/vue3-json-schema-form/node_modules/babel-loader/lib/index.js","mtime":1608516392415},{"path":"/Users/junronngcai/Downloads/vue3-json-schema-form/node_modules/ts-loader/index.js","mtime":1608516394013},{"path":"/Users/junronngcai/Downloads/vue3-json-schema-form/node_modules/eslint-loader/index.js","mtime":1607437999134}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50LCByZWYsIHdhdGNoLCB3YXRjaEVmZmVjdCwgY3JlYXRlVk5vZGUsIHZNb2RlbFNlbGVjdCwgd2l0aERpcmVjdGl2ZXMgfSBmcm9tICJ2dWUiOwppbXBvcnQgeyBTZWxlY3Rpb25XaWRnZXRQcm9wc0RlZmluZSB9IGZyb20gJy4uL3R5cGVzJzsKaW1wb3J0IHsgd2l0aEZvcm1JdGVtIH0gZnJvbSAnLi9Gb3JtSXRlbSc7CnZhciBTZWxlY3Rpb24gPSB3aXRoRm9ybUl0ZW0oZGVmaW5lQ29tcG9uZW50KHsKICBuYW1lOiAnU2VsZWN0aW9uV2lkZ2V0JywKICBwcm9wczogU2VsZWN0aW9uV2lkZ2V0UHJvcHNEZWZpbmUsCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKHByb3BzKSB7CiAgICB2YXIgY3VycmVudFZhbHVlUmVmID0gcmVmKHByb3BzLnZhbHVlKTsKICAgIHdhdGNoKGN1cnJlbnRWYWx1ZVJlZiwgZnVuY3Rpb24gKG5ld3YsIG9sZHYpIHsKICAgICAgaWYgKG5ld3YgIT09IHByb3BzLnZhbHVlKSB7CiAgICAgICAgcHJvcHMub25DaGFuZ2UobmV3dik7CiAgICAgIH0KICAgIH0pOwogICAgd2F0Y2goZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gcHJvcHMudmFsdWU7CiAgICB9LCBmdW5jdGlvbiAodikgewogICAgICBpZiAodiAhPT0gY3VycmVudFZhbHVlUmVmLnZhbHVlKSB7CiAgICAgICAgY3VycmVudFZhbHVlUmVmLnZhbHVlID0gdjsKICAgICAgfQogICAgfSk7CiAgICB3YXRjaEVmZmVjdChmdW5jdGlvbiAoKSB7CiAgICAgIGNvbnNvbGUubG9nKGN1cnJlbnRWYWx1ZVJlZi52YWx1ZSwgJy0tLS0tLS0tLS0tLS0+Jyk7CiAgICB9KTsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBvcHRpb25zID0gcHJvcHMub3B0aW9uczsKICAgICAgcmV0dXJuIHdpdGhEaXJlY3RpdmVzKGNyZWF0ZVZOb2RlKCJzZWxlY3QiLCB7CiAgICAgICAgIm11bHRpcGxlIjogdHJ1ZSwKICAgICAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IGZ1bmN0aW9uIG9uVXBkYXRlTW9kZWxWYWx1ZSgkZXZlbnQpIHsKICAgICAgICAgIHJldHVybiBjdXJyZW50VmFsdWVSZWYudmFsdWUgPSAkZXZlbnQ7CiAgICAgICAgfQogICAgICB9LCBbb3B0aW9ucy5tYXAoZnVuY3Rpb24gKG9wKSB7CiAgICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKCJvcHRpb24iLCB7CiAgICAgICAgICAidmFsdWUiOiBvcC52YWx1ZQogICAgICAgIH0sIFtvcC5rZXldKTsKICAgICAgfSldKSwgW1t2TW9kZWxTZWxlY3QsIGN1cnJlbnRWYWx1ZVJlZi52YWx1ZV1dKTsKICAgIH07CiAgfQp9KSk7CmV4cG9ydCBkZWZhdWx0IFNlbGVjdGlvbjs="},{"version":3,"sources":["/Users/junronngcai/Downloads/vue3-json-schema-form/node_modules/eslint-loader/index.js??ref--13-0!/Users/junronngcai/Downloads/vue3-json-schema-form/lib/theme-default/SelectionWidget.tsx"],"names":[],"mappings":";;AACA,SAAS,0BAAT,QAAkE,UAAlE;AAEA,SAAS,YAAT,QAA6B,YAA7B;AAEA,IAAM,SAAS,GAA0B,YAAY,CACnD,eAAe,CAAC;AACd,EAAA,IAAI,EAAE,iBADQ;AAEd,EAAA,KAAK,EAAE,0BAFO;AAGd,EAAA,KAHc,iBAGR,KAHQ,EAGH;AACT,QAAM,eAAe,GAAG,GAAG,CAAC,KAAK,CAAC,KAAP,CAA3B;AAEA,IAAA,KAAK,CAAC,eAAD,EAAkB,UAAC,IAAD,EAAO,IAAP,EAAe;AACpC,UAAI,IAAI,KAAK,KAAK,CAAC,KAAnB,EAA0B;AACxB,QAAA,KAAK,CAAC,QAAN,CAAe,IAAf;AACD;AACF,KAJI,CAAL;AAMA,IAAA,KAAK,CACH;AAAA,aAAM,KAAK,CAAC,KAAZ;AAAA,KADG,EAEH,UAAC,CAAD,EAAM;AACJ,UAAI,CAAC,KAAK,eAAe,CAAC,KAA1B,EAAiC;AAC/B,QAAA,eAAe,CAAC,KAAhB,GAAwB,CAAxB;AACD;AACF,KANE,CAAL;AASA,IAAA,WAAW,CAAC,YAAK;AACf,MAAA,OAAO,CAAC,GAAR,CAAY,eAAe,CAAC,KAA5B,EAAmC,gBAAnC;AACD,KAFU,CAAX;AAIA,WAAO,YAAK;AAAA,UACF,OADE,GACU,KADV,CACF,OADE;AAEV;AAAA,oBACoB,IADpB;AAAA;AAAA,iBACmC,eAAe,CAAC,KADnD;AAAA;AAAA,UAEK,OAAO,CAAC,GAAR,CAAY,UAAC,EAAD;AAAA;AAAA,mBACI,EAAE,CAAC;AADP,YACe,EAAE,CAAC,GADlB;AAAA,OAAZ,CAFL,oBACmC,eAAe,CAAC,KADnD;AAOD,KATD;AAUD;AAnCa,CAAD,CADoC,CAArD;AAwCA,eAAe,SAAf","sourcesContent":["import { defineComponent, PropType, ref, watch, watchEffect } from 'vue'\nimport { SelectionWidgetPropsDefine, SelectionWidgetDefine } from '../types'\n\nimport { withFormItem } from './FormItem'\n\nconst Selection: SelectionWidgetDefine = withFormItem(\n  defineComponent({\n    name: 'SelectionWidget',\n    props: SelectionWidgetPropsDefine,\n    setup(props) {\n      const currentValueRef = ref(props.value)\n\n      watch(currentValueRef, (newv, oldv) => {\n        if (newv !== props.value) {\n          props.onChange(newv)\n        }\n      })\n\n      watch(\n        () => props.value,\n        (v) => {\n          if (v !== currentValueRef.value) {\n            currentValueRef.value = v\n          }\n        },\n      )\n\n      watchEffect(() => {\n        console.log(currentValueRef.value, '------------->')\n      })\n\n      return () => {\n        const { options } = props\n        return (\n          <select multiple={true} v-model={currentValueRef.value}>\n            {options.map((op) => (\n              <option value={op.value}>{op.key}</option>\n            ))}\n          </select>\n        )\n      }\n    },\n  }),\n)\n\nexport default Selection\n"],"sourceRoot":""}]}