{"remainingRequest":"/Users/junronngcai/Downloads/vue3-json-schema-form/node_modules/babel-loader/lib/index.js!/Users/junronngcai/Downloads/vue3-json-schema-form/node_modules/ts-loader/index.js??ref--15-2!/Users/junronngcai/Downloads/vue3-json-schema-form/node_modules/eslint-loader/index.js??ref--13-0!/Users/junronngcai/Downloads/vue3-json-schema-form/lib/theme.tsx","dependencies":[{"path":"/Users/junronngcai/Downloads/vue3-json-schema-form/lib/theme.tsx","mtime":1608900608205},{"path":"/Users/junronngcai/Downloads/vue3-json-schema-form/node_modules/cache-loader/dist/cjs.js","mtime":1607437832202},{"path":"/Users/junronngcai/Downloads/vue3-json-schema-form/node_modules/babel-loader/lib/index.js","mtime":1608516392415},{"path":"/Users/junronngcai/Downloads/vue3-json-schema-form/node_modules/ts-loader/index.js","mtime":1608516394013},{"path":"/Users/junronngcai/Downloads/vue3-json-schema-form/node_modules/eslint-loader/index.js","mtime":1607437999134}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCB7IGNvbXB1dGVkLCBkZWZpbmVDb21wb25lbnQsIGluamVjdCwgcHJvdmlkZSwgcmVmIH0gZnJvbSAndnVlJzsKaW1wb3J0IHsgaXNPYmplY3QgfSBmcm9tICcuL3V0aWxzJzsKaW1wb3J0IHsgdXNlVkpTRkNvbnRleHQgfSBmcm9tICcuL2NvbnRleHQnOwp2YXIgVEhFTUVfUFJPVklERVJfS0VZID0gU3ltYm9sKCk7CnZhciBUaGVtZVByb3ZpZGVyID0gZGVmaW5lQ29tcG9uZW50KHsKICBuYW1lOiAnVkpTRlRoZW1lUHJvdmlkZXInLAogIHByb3BzOiB7CiAgICB0aGVtZTogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9CiAgfSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAocHJvcHMsIF9yZWYpIHsKICAgIHZhciBzbG90cyA9IF9yZWYuc2xvdHM7CiAgICB2YXIgY29udGV4dCA9IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHByb3BzLnRoZW1lOwogICAgfSk7CiAgICBwcm92aWRlKFRIRU1FX1BST1ZJREVSX0tFWSwgY29udGV4dCk7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gc2xvdHMuZGVmYXVsdCAmJiBzbG90cy5kZWZhdWx0KCk7CiAgICB9OwogIH0KfSk7CmV4cG9ydCBmdW5jdGlvbiBnZXRXaWRnZXQobmFtZSwgcHJvcHMpIHsKICB2YXIgZm9ybUNvbnRleHQgPSB1c2VWSlNGQ29udGV4dCgpOwoKICBpZiAocHJvcHMpIHsKICAgIHZhciB1aVNjaGVtYSA9IHByb3BzLnVpU2NoZW1hLAogICAgICAgIHNjaGVtYSA9IHByb3BzLnNjaGVtYTsKCiAgICBpZiAoKHVpU2NoZW1hID09PSBudWxsIHx8IHVpU2NoZW1hID09PSB2b2lkIDAgPyB2b2lkIDAgOiB1aVNjaGVtYS53aWRnZXQpICYmIGlzT2JqZWN0KHVpU2NoZW1hLndpZGdldCkpIHsKICAgICAgcmV0dXJuIHJlZih1aVNjaGVtYS53aWRnZXQpOwogICAgfQoKICAgIGlmIChzY2hlbWEuZm9ybWF0KSB7CiAgICAgIGlmIChmb3JtQ29udGV4dC5mb3JtYXRNYXBSZWYudmFsdWVbc2NoZW1hLmZvcm1hdF0pIHsKICAgICAgICByZXR1cm4gcmVmKGZvcm1Db250ZXh0LmZvcm1hdE1hcFJlZi52YWx1ZVtzY2hlbWEuZm9ybWF0XSk7CiAgICAgIH0KICAgIH0KICB9CgogIHZhciBjb250ZXh0ID0gaW5qZWN0KFRIRU1FX1BST1ZJREVSX0tFWSk7CgogIGlmICghY29udGV4dCkgewogICAgdGhyb3cgbmV3IEVycm9yKCd2anNmIHRoZW1lIHJlcXVpcmVkJyk7CiAgfQoKICB2YXIgd2lkZ2V0UmVmID0gY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIGNvbnRleHQudmFsdWUud2lkZ2V0c1tuYW1lXTsKICB9KTsKICByZXR1cm4gd2lkZ2V0UmVmOwp9CmV4cG9ydCBkZWZhdWx0IFRoZW1lUHJvdmlkZXI7"},{"version":3,"sources":["/Users/junronngcai/Downloads/vue3-json-schema-form/node_modules/eslint-loader/index.js??ref--13-0!/Users/junronngcai/Downloads/vue3-json-schema-form/lib/theme.tsx"],"names":[],"mappings":";;;AAAA,SACE,QADF,EAEE,eAFF,EAGE,MAHF,EAKE,OALF,EAOE,GAPF,QASO,KATP;AAmBA,SAAS,QAAT,QAAyB,SAAzB;AACA,SAAS,cAAT,QAA+B,WAA/B;AAEA,IAAM,kBAAkB,GAAG,MAAM,EAAjC;AAEA,IAAM,aAAa,GAAG,eAAe,CAAC;AACpC,EAAA,IAAI,EAAE,mBAD8B;AAEpC,EAAA,KAAK,EAAE;AACL,IAAA,KAAK,EAAE;AACL,MAAA,IAAI,EAAE,MADD;AAEL,MAAA,QAAQ,EAAE;AAFL;AADF,GAF6B;AAQpC,EAAA,KARoC,iBAQ9B,KAR8B,QAQd;AAAA,QAAP,KAAO,QAAP,KAAO;AACpB,QAAM,OAAO,GAAG,QAAQ,CAAC;AAAA,aAAM,KAAK,CAAC,KAAZ;AAAA,KAAD,CAAxB;AAEA,IAAA,OAAO,CAAC,kBAAD,EAAqB,OAArB,CAAP;AAEA,WAAO;AAAA,aAAM,KAAK,CAAC,OAAN,IAAiB,KAAK,CAAC,OAAN,EAAvB;AAAA,KAAP;AACD;AAdmC,CAAD,CAArC;AAiBA,OAAM,SAAU,SAAV,CACJ,IADI,EAEJ,KAFI,EAE6C;AAEjD,MAAM,WAAW,GAAG,cAAc,EAAlC;;AAEA,MAAI,KAAJ,EAAW;AAAA,QACD,QADC,GACoB,KADpB,CACD,QADC;AAAA,QACS,MADT,GACoB,KADpB,CACS,MADT;;AAET,QAAI,CAAA,QAAQ,SAAR,IAAA,QAAQ,WAAR,YAAA,QAAQ,CAAE,MAAV,KAAoB,QAAQ,CAAC,QAAQ,CAAC,MAAV,CAAhC,EAAmD;AACjD,aAAO,GAAG,CAAC,QAAQ,CAAC,MAAV,CAAV;AACD;;AACD,QAAI,MAAM,CAAC,MAAX,EAAmB;AACjB,UAAI,WAAW,CAAC,YAAZ,CAAyB,KAAzB,CAA+B,MAAM,CAAC,MAAtC,CAAJ,EAAmD;AACjD,eAAO,GAAG,CAAC,WAAW,CAAC,YAAZ,CAAyB,KAAzB,CAA+B,MAAM,CAAC,MAAtC,CAAD,CAAV;AACD;AACF;AACF;;AAED,MAAM,OAAO,GAAmC,MAAM,CACpD,kBADoD,CAAtD;;AAGA,MAAI,CAAC,OAAL,EAAc;AACZ,UAAM,IAAI,KAAJ,CAAU,qBAAV,CAAN;AACD;;AAED,MAAM,SAAS,GAAG,QAAQ,CAAC,YAAK;AAC9B,WAAO,OAAO,CAAC,KAAR,CAAc,OAAd,CAAsB,IAAtB,CAAP;AACD,GAFyB,CAA1B;AAIA,SAAO,SAAP;AACD;AAED,eAAe,aAAf","sourcesContent":["import {\n  computed,\n  defineComponent,\n  inject,\n  PropType,\n  provide,\n  ComputedRef,\n  ref,\n  ExtractPropTypes,\n} from 'vue'\nimport {\n  Theme,\n  SelectionWidgetNames,\n  CommonWidgetNames,\n  SelectionWidgetDefine,\n  UISchema,\n  CommonWidgetDefine,\n  FiledPropsDefine,\n} from './types'\nimport { isObject } from './utils'\nimport { useVJSFContext } from './context'\n\nconst THEME_PROVIDER_KEY = Symbol()\n\nconst ThemeProvider = defineComponent({\n  name: 'VJSFThemeProvider',\n  props: {\n    theme: {\n      type: Object as PropType<Theme>,\n      required: true,\n    },\n  },\n  setup(props, { slots }) {\n    const context = computed(() => props.theme)\n\n    provide(THEME_PROVIDER_KEY, context)\n\n    return () => slots.default && slots.default()\n  },\n})\n\nexport function getWidget<T extends SelectionWidgetNames | CommonWidgetNames>(\n  name: T,\n  props?: ExtractPropTypes<typeof FiledPropsDefine>,\n) {\n  const formContext = useVJSFContext()\n\n  if (props) {\n    const { uiSchema, schema } = props\n    if (uiSchema?.widget && isObject(uiSchema.widget)) {\n      return ref(uiSchema.widget as CommonWidgetDefine)\n    }\n    if (schema.format) {\n      if (formContext.formatMapRef.value[schema.format]) {\n        return ref(formContext.formatMapRef.value[schema.format])\n      }\n    }\n  }\n\n  const context: ComputedRef<Theme> | undefined = inject<ComputedRef<Theme>>(\n    THEME_PROVIDER_KEY,\n  )\n  if (!context) {\n    throw new Error('vjsf theme required')\n  }\n\n  const widgetRef = computed(() => {\n    return context.value.widgets[name]\n  })\n\n  return widgetRef\n}\n\nexport default ThemeProvider\n"],"sourceRoot":""}]}