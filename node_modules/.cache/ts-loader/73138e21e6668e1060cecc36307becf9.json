{"remainingRequest":"/Users/junronngcai/Downloads/vue3-json-schema-form/node_modules/babel-loader/lib/index.js!/Users/junronngcai/Downloads/vue3-json-schema-form/node_modules/ts-loader/index.js??ref--15-2!/Users/junronngcai/Downloads/vue3-json-schema-form/node_modules/eslint-loader/index.js??ref--13-0!/Users/junronngcai/Downloads/vue3-json-schema-form/lib/SchemaItem.tsx","dependencies":[{"path":"/Users/junronngcai/Downloads/vue3-json-schema-form/lib/SchemaItem.tsx","mtime":1608951368782},{"path":"/Users/junronngcai/Downloads/vue3-json-schema-form/node_modules/cache-loader/dist/cjs.js","mtime":1607437832202},{"path":"/Users/junronngcai/Downloads/vue3-json-schema-form/node_modules/babel-loader/lib/index.js","mtime":1608516392415},{"path":"/Users/junronngcai/Downloads/vue3-json-schema-form/node_modules/ts-loader/index.js","mtime":1608516394013},{"path":"/Users/junronngcai/Downloads/vue3-json-schema-form/node_modules/eslint-loader/index.js","mtime":1607437999134}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2p1bnJvbm5nY2FpL0Rvd25sb2Fkcy92dWUzLWpzb24tc2NoZW1hLWZvcm0vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgeyBjb21wdXRlZCwgZGVmaW5lQ29tcG9uZW50LCBjcmVhdGVWTm9kZSB9IGZyb20gInZ1ZSI7CmltcG9ydCB7IFNjaGVtYVR5cGVzLCBGaWxlZFByb3BzRGVmaW5lIH0gZnJvbSAnLi90eXBlcyc7IC8vIGltcG9ydCBTdHJpbmdGaWVsZCBmcm9tICcuL2ZpZWxkcy9TdHJpbmdGaWVsZCcKCmltcG9ydCBTdHJpbmdGaWVsZCBmcm9tICcuL2ZpZWxkcy9TdHJpbmdGaWVsZCc7CmltcG9ydCBOdW1iZXJGaWVsZCBmcm9tICcuL2ZpZWxkcy9OdW1iZXJGaWVsZCc7CmltcG9ydCBPYmplY3RGaWVsZCBmcm9tICcuL2ZpZWxkcy9PYmplY3RGaWVsZCc7CmltcG9ydCBBcnJheUZpZWxkIGZyb20gJy4vZmllbGRzL0FycmF5RmllbGQnOwppbXBvcnQgeyByZXRyaWV2ZVNjaGVtYSB9IGZyb20gJy4vdXRpbHMnOwppbXBvcnQgeyB1c2VWSlNGQ29udGV4dCB9IGZyb20gJy4vY29udGV4dCc7CmV4cG9ydCBkZWZhdWx0IGRlZmluZUNvbXBvbmVudCh7CiAgbmFtZTogJ1NjaGVtYUl0ZW0nLAogIHByb3BzOiBGaWxlZFByb3BzRGVmaW5lLAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cChwcm9wcykgewogICAgdmFyIGZvcm1Db250ZXh0ID0gdXNlVkpTRkNvbnRleHQoKTsKICAgIHZhciByZXRyaWV2ZWRTY2hlbWFSZWYgPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBzY2hlbWEgPSBwcm9wcy5zY2hlbWEsCiAgICAgICAgICByb290U2NoZW1hID0gcHJvcHMucm9vdFNjaGVtYSwKICAgICAgICAgIHZhbHVlID0gcHJvcHMudmFsdWU7CiAgICAgIHJldHVybiBmb3JtQ29udGV4dC50cmFuc2Zvcm1TY2hlbWFSZWYudmFsdWUocmV0cmlldmVTY2hlbWEoc2NoZW1hLCByb290U2NoZW1hLCB2YWx1ZSkpOwogICAgfSk7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICB2YXIgc2NoZW1hID0gcHJvcHMuc2NoZW1hLAogICAgICAgICAgcm9vdFNjaGVtYSA9IHByb3BzLnJvb3RTY2hlbWEsCiAgICAgICAgICB2YWx1ZSA9IHByb3BzLnZhbHVlOwogICAgICB2YXIgcmV0cmlldmVkU2NoZW1hID0gcmV0cmlldmVkU2NoZW1hUmVmLnZhbHVlOyAvLyBUT0RPOiDlpoLmnpx0eXBl5rKh5pyJ5oyH5a6a77yM5oiR5Lus6ZyA6KaB54yc5rWL6L+Z5LiqdHlwZQoKICAgICAgdmFyIHR5cGUgPSBzY2hlbWEudHlwZTsKICAgICAgdmFyIENvbXBvbmVudDsKCiAgICAgIHN3aXRjaCAodHlwZSkgewogICAgICAgIGNhc2UgU2NoZW1hVHlwZXMuU1RSSU5HOgogICAgICAgICAgewogICAgICAgICAgICBDb21wb25lbnQgPSBTdHJpbmdGaWVsZDsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CgogICAgICAgIGNhc2UgU2NoZW1hVHlwZXMuTlVNQkVSOgogICAgICAgICAgewogICAgICAgICAgICBDb21wb25lbnQgPSBOdW1iZXJGaWVsZDsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CgogICAgICAgIGNhc2UgU2NoZW1hVHlwZXMuT0JKRUNUOgogICAgICAgICAgewogICAgICAgICAgICBDb21wb25lbnQgPSBPYmplY3RGaWVsZDsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CgogICAgICAgIGNhc2UgU2NoZW1hVHlwZXMuQVJSQVk6CiAgICAgICAgICB7CiAgICAgICAgICAgIENvbXBvbmVudCA9IEFycmF5RmllbGQ7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQoKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgewogICAgICAgICAgICBjb25zb2xlLndhcm4oIiIuY29uY2F0KHR5cGUsICIgaXMgbm90IHN1cHBvcnRlZCIpKTsKICAgICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIGNyZWF0ZVZOb2RlKENvbXBvbmVudCwgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBwcm9wcyksIHt9LCB7CiAgICAgICAgInNjaGVtYSI6IHJldHJpZXZlZFNjaGVtYQogICAgICB9KSwgbnVsbCk7CiAgICB9OwogIH0KfSk7"},{"version":3,"sources":["/Users/junronngcai/Downloads/vue3-json-schema-form/node_modules/eslint-loader/index.js??ref--13-0!/Users/junronngcai/Downloads/vue3-json-schema-form/lib/SchemaItem.tsx"],"names":[],"mappings":";;AAEA,SAAiB,WAAjB,EAA8B,gBAA9B,QAAsD,SAAtD,C,CACA;;AACA,OAAO,WAAP,MAAwB,sBAAxB;AACA,OAAO,WAAP,MAAwB,sBAAxB;AAEA,OAAO,WAAP,MAAwB,sBAAxB;AACA,OAAO,UAAP,MAAuB,qBAAvB;AAEA,SAAS,cAAT,QAA+B,SAA/B;AACA,SAAS,cAAT,QAA+B,WAA/B;AAEA,eAAe,eAAe,CAAC;AAC7B,EAAA,IAAI,EAAE,YADuB;AAE7B,EAAA,KAAK,EAAE,gBAFsB;AAG7B,EAAA,KAH6B,iBAGvB,KAHuB,EAGlB;AACT,QAAM,WAAW,GAAG,cAAc,EAAlC;AAEA,QAAM,kBAAkB,GAAG,QAAQ,CAAC,YAAK;AAAA,UAC/B,MAD+B,GACD,KADC,CAC/B,MAD+B;AAAA,UACvB,UADuB,GACD,KADC,CACvB,UADuB;AAAA,UACX,KADW,GACD,KADC,CACX,KADW;AAEvC,aAAO,WAAW,CAAC,kBAAZ,CAA+B,KAA/B,CACL,cAAc,CAAC,MAAD,EAAS,UAAT,EAAqB,KAArB,CADT,CAAP;AAGD,KALkC,CAAnC;AAOA,WAAO,YAAK;AAAA,UACF,MADE,GAC4B,KAD5B,CACF,MADE;AAAA,UACM,UADN,GAC4B,KAD5B,CACM,UADN;AAAA,UACkB,KADlB,GAC4B,KAD5B,CACkB,KADlB;AAGV,UAAM,eAAe,GAAG,kBAAkB,CAAC,KAA3C,CAHU,CAKV;;AAEA,UAAM,IAAI,GAAG,MAAM,CAAC,IAApB;AAEA,UAAI,SAAJ;;AAEA,cAAQ,IAAR;AACE,aAAK,WAAW,CAAC,MAAjB;AAAyB;AACvB,YAAA,SAAS,GAAG,WAAZ;AACA;AACD;;AACD,aAAK,WAAW,CAAC,MAAjB;AAAyB;AACvB,YAAA,SAAS,GAAG,WAAZ;AACA;AACD;;AACD,aAAK,WAAW,CAAC,MAAjB;AAAyB;AACvB,YAAA,SAAS,GAAG,WAAZ;AACA;AACD;;AACD,aAAK,WAAW,CAAC,KAAjB;AAAwB;AACtB,YAAA,SAAS,GAAG,UAAZ;AACA;AACD;;AACD;AAAS;AACP,YAAA,OAAO,CAAC,IAAR,WAAgB,IAAhB;AACD;AAnBH;;AAsBA,oEAAsB,KAAtB;AAAA,kBAAqC;AAArC;AACD,KAlCD;AAmCD;AAhD4B,CAAD,CAA9B","sourcesContent":["import { computed, defineComponent, PropType } from 'vue'\n\nimport { Schema, SchemaTypes, FiledPropsDefine } from './types'\n// import StringField from './fields/StringField'\nimport StringField from './fields/StringField'\nimport NumberField from './fields/NumberField'\n\nimport ObjectField from './fields/ObjectField'\nimport ArrayField from './fields/ArrayField'\n\nimport { retrieveSchema } from './utils'\nimport { useVJSFContext } from './context'\n\nexport default defineComponent({\n  name: 'SchemaItem',\n  props: FiledPropsDefine,\n  setup(props) {\n    const formContext = useVJSFContext()\n\n    const retrievedSchemaRef = computed(() => {\n      const { schema, rootSchema, value } = props\n      return formContext.transformSchemaRef.value(\n        retrieveSchema(schema, rootSchema, value),\n      )\n    })\n\n    return () => {\n      const { schema, rootSchema, value } = props\n\n      const retrievedSchema = retrievedSchemaRef.value\n\n      // TODO: 如果type没有指定，我们需要猜测这个type\n\n      const type = schema.type\n\n      let Component: any\n\n      switch (type) {\n        case SchemaTypes.STRING: {\n          Component = StringField\n          break\n        }\n        case SchemaTypes.NUMBER: {\n          Component = NumberField\n          break\n        }\n        case SchemaTypes.OBJECT: {\n          Component = ObjectField\n          break\n        }\n        case SchemaTypes.ARRAY: {\n          Component = ArrayField\n          break\n        }\n        default: {\n          console.warn(`${type} is not supported`)\n        }\n      }\n\n      return <Component {...props} schema={retrievedSchema} />\n    }\n  },\n})\n"],"sourceRoot":""}]}